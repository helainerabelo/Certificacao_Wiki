**PERNAMBUCANAS - Mensageria ELO**

**Transações INTERNACIONAIS:**

_**É necessário mudar**:_
- Bit 11: Estorno ≠ da compra / Desfazimento = da compra
- Bit 38: de acordo com o código de autorização da transação original
- Bit 90 para transações internacionais é composto por: 
  1. MTI da transação Original: 0100, 0120, 0200 ou 0400;
  1. Bit 11 da Transação Original;
  1. Bit 12 da transação original (HHMMSS);
  1. Bit 13 da transação original (MMDD);
  1. Bit 32 da Transação Original (Justificado a direita, com preenchimento por zeros.);
  1. Bit 33 da Transação Original (Justificado a direita, com preenchimento por zeros.) 
  -- Se original não tiver bit 33, colocar os zeros.

_Obs.: Para as transações INTERNACIONAIS, as informações da posição 21 a 31 podem não coincidir com o Bit 32 da transação original.  Estas posições devem ser ignoradas caso isso ocorra e o Emissor utilize esta informação para identificar a transação que será revertida_

**Compra Internacional:**
```
047914/04/2021 11:48:50:9654|10.19.21.167|073|0100|Conductor||60|[*]002|6505970105553789|003|003000|004|000000020100|007|0414144837|011|433825|012|114837|013|0414|014|2802|018|5712|019|840|022|070|024|100|032|1234|037|308768809456|041|20172289|042|020001605270002|043|CHRISTMAS TREE12345688 UNION         NJ |048|*BAN029          012345678901234    |049|840|057|036|058|FLATLANDSAVE          12345000084012345ELO                  |060|2025100000V00|062|*ECI00207|126|1472 |127|12211|
```
**Estorno Internacional:**	
```																																	
056714/04/2021 11:48:52:0455|10.19.21.167|073|0400|Conductor||60|[*]002|6505970105553789|003|003000|004|000000020100|007|0414144838|011|433826|012|114838|013|0414|014|2802|018|5712|019|840|022|070|024|400|025|00|032|1234|037|308768809456|038|543028|041|20172289|042|020001605270002|043|CHRISTMAS TREE12345688 UNION         NJ |048|*BAN029          012345678901234    |049|840|057|036|058|FLATLANDSAVE          12345000084012345ELO                  |060|2025100000V00|090|010043382511483704140000000123400000000000|095|000000010100000000010100D00000100D00000100|127|12211|
```

**Compra Internacional:**	
```																																	
047914/04/2021 11:48:49:2767|10.19.21.167|073|0100|Conductor||60|[*]002|6505970105553789|003|003000|004|000000010700|007|0414144836|011|433827|012|114836|013|0414|014|2802|018|5712|019|840|022|070|024|100|032|1234|037|282162474714|041|20172289|042|020001605270002|043|CHRISTMAS TREE12345688 UNION         NJ |048|*BAN029          012345678901234    |049|840|057|036|058|FLATLANDSAVE          12345000084012345ELO                  |060|2025100000V00|062|*ECI00207|126|1472 |127|12211| 
```

**Desfazimento Internacional:**	
```
056714/04/2021 11:48:50:2191|10.19.21.167|073|0420|Conductor||60|[*]002|6505970105553789|003|003000|004|000000010700|007|0414144837|011|433827|012|114837|013|0414|014|2802|018|5712|019|840|022|070|024|400|025|00|032|1234|037|282162474714|038|894184|041|20172289|042|020001605270002|043|CHRISTMAS TREE12345688 UNION         NJ |048|*BAN029          012345678901234    |049|840|057|036|058|FLATLANDSAVE          12345000084012345ELO                  |060|2025100000V00|090|010043382711483604140000000123400000000000|095|000000010100000000010100D00000100D00000100|127|12211| 
```
<br>
<br>

**Transações NACIONAIS:**

_**É necessário mudar**:_
- Bit 11: Estorno ≠ da compra / Desfazimento = da compra
- Bit 38: de acordo com o código de autorização da transação original
- Bit 90 é composto por: 
  1. MTI da transação Original: 0100, 0120, 0200 ou 0400
  1. Bit 11 da Transação Original
  1. Bit 12 da transação original (HHMMSS)
  1. Bit 13 da transação original (MMDD)
  1. Bit 38 da Transação Original
  1. Preenchido com zeros (0000000000000000)

**Compra Nacional:**
```
052514/04/2021 11:48:27:9032|10.19.21.167|073|0100|Conductor||60|[*]002|6505970105553789|003|003000|004|000000013100|007|0414144814|011|433828|012|114814|013|0414|014|2802|018|5712|019|076|022|070|024|100|032|0025|037|202289033805|041|20172289|042|020001605270002|043|ELO                    BARUERI       076|048|*CDT002T0*BAN029          012345678901234    *PRD003070|049|986|057|036|058|ALAMEDAXINGU          23543230007612345ELO                  |060|2025100000V00|062|*TID02012345678901234567890*ECI00207|126|1472 |127|12211|
```

**Desfazimento Nacional:**	
```
053014/04/2021 11:48:29:0647|10.19.21.167|073|0420|Conductor||60|[*]002|6505970105553789|003|003000|004|000000013100|007|0414144815|011|433828|012|114815|013|0414|014|2802|018|5712|019|076|022|070|024|400|025|00|032|0025|037|202289033805|038|976720|041|20172289|042|020001605270002|043|ELO                    BARUERI       076|048|*BAN029          012345678901234    *PRD003070|049|986|057|036|058|ALAMEDAXINGU          23543230007612345ELO                  |060|2025100000V00|090|010043382811481404149767200000000000000000|127|12211| 
```

**Compra Nacional:**
```
052514/04/2021 11:48:27:9032|10.19.21.167|073|0100|Conductor||60|[*]002|6505970105553789|003|003000|004|000000013100|007|0414144814|011|433835|012|114814|013|0414|014|2802|018|5712|019|076|022|070|024|100|032|0025|037|202289033805|041|20172289|042|020001605270002|043|ELO                    BARUERI       076|048|*CDT002T0*BAN029          012345678901234    *PRD003070|049|986|057|036|058|ALAMEDAXINGU          23543230007612345ELO                  |060|2025100000V00|062|*TID02012345678901234567890*ECI00207|126|1472 |127|12211|
```

**Estorno Nacional:**
```
053014/04/2021 11:48:29:0647|10.19.21.167|073|0400|Conductor||60|[*]002|6505970105553789|003|003000|004|000000013100|007|0414144815|011|433836|012|114815|013|0414|014|2802|018|5712|019|076|022|070|024|400|025|00|032|0025|037|202289033805|038|561746|041|20172289|042|020001605270002|043|ELO                    BARUERI       076|048|*BAN029          012345678901234    *PRD003070|049|986|057|036|058|ALAMEDAXINGU          23543230007612345ELO                  |060|2025100000V00|090|010043383511481404145617460000000000000000|127|12211| 
```

<br>
<br>
<br>

**C6 Bank - Mensageria Master**

**Transações NACIONAIS - Estorno:**

_**É necessário mudar**:_
- Bit 11: Estorno ≠ da compra
- Bit 38: de acordo com o código de autorização da transação original (Se tiver na mensageria, no exemplo abaixo não tem)
- Bit 90 é composto por: 
  1. MTI da transação Original: 0100, 0120, 0200 ou 0400
  1. Bit 11 da Transação Original
  1. Bit 13 da transação original (MMDD)
  1. Bit 12 da transação original (HHMMSS)
  1. Bit 38 da Transação Original
  1. Preenchido com zeros (0000000000000000)

**Compra Nacional:** 
```
051920/04/2021 11:21:32:6870|10.19.21.167|116|0100|Conductor||8|[*]002|2307441003573773|003|003000|004|000000000900|005|000000000161|006|000000000900|007|0420142126|009|71788889|010|61000000|011|023287|012|092126|013|0420|014|2603|015|0420|016|0419|018|5311|022|810|032|999698|037|080000100027|042|R-5411-BRA     |043|GROCERY STORES/SUPERMA RIO           BRA|048|00;T;14;C;42;0103210;56;AIQ5EZAQV445AQF144AQS007;75;01031000202R003032000402R10502R2;71;18C |049|986|050|986|051|986|057|010|061|0000000006000076|063|MCSX2RYEN|
```

**Estorno Nacional:**
```
036118/01/2021 12:46:33:8838|10.19.21.167|116|0400|Conductor||8|[*]002|2307441003573773|003|003000|004|000000000900|005|000000000161|006|000000000900|007|0420142127|009|71788889|010|61000000|011|023288|012|092126|013|0420|014|2603|015|0420|016|0419|018|5311|022|810|032|999698|037|080000100027|039|00|042|R-5411-BRA     |043|GROCERY STORES/SUPERMA RIO           BRA|048|00;R;63;MRWH2ZAOR0118  |049|986|051|986|057|010|060|409|063|MRWH21KOR|090|010002328704200921265612380000000000000000|121|000001|
```

**Transações NACIONAIS - Desfazimento:**

_**É necessário mudar**:_
- Bit 11: Desfazimento = da compra
- Bit 38: de acordo com o código de autorização da transação
- Bit 90 é composto por: 
  1. MTI da transação Original: 0100, 0120, 0200 ou 0400
  1. Bit 11 da Transação Original
  1. Bit 12 da transação original (HHMMSS)
  1. Bit 13 da transação original (MMDD)
  1. Bit 38 da Transação Original
  1. Preenchido com zeros (0000000000000000)

**Compra Nacional:** 
```
070830/04/2021 13:59:08:7218|10.19.21.167|116|0100|Conductor||8|[*]002|2307441003573773|003|000000|004|000000001500|005|000000001500|006|000000001500|007|0430135905|009|61000000|010|61000000|011|001005|012|135905|013|0430|014|2603|015|0430|016|0430|018|4722|022|072|023|000|032|999901|037|085110100021|041|MTF TEST|042|ABC123TESTMTF19|043|Misc Food Store        Vegas         BEL|048|00;R;14;C|049|986|050|840|051|840|057|010|061|00000000003000561111111111|063|MCC01116S|
```

**Desfazimento Nacional:**
```
055130/04/2021 13:59:23:7055|10.19.21.167|116|0420|Conductor||8|[*]002|2307441003573773|003|000000|004|000000001500|005|000000001500|006|000000001500|007|0430135905|009|61000000|010|61000000|011|001005|012|135905|013|0430|014|2603|015|0430|016|0430|018|4722|022|072|023|000|032|999901|037|085110100021|038|438601|039|17|041|MTF TEST|042|ABC123TESTMTF19|043|Misc Food Store        Vegas         BEL|048|00;R;20;P;63;MCC01116S0430  |049|986|050|840|051|840|057|010|061|00000000003000561111111111|063|MCC01116T|090|010000100513590504304386010000000000000000|
```
**Transações INTERNACIONAIS - Estorno:**

_**É necessário mudar**:_
- Bit 11: Estorno ≠ da compra 
- Bit 38: de acordo com o código de autorização da transação (Se tiver na mensageria, no exemplo abaixo não tem)
- Bit 90 é composto por: 
  1. MTI da transação Original: 0100, 0120, 0200 ou 0400
  1. Bit 11 da Transação Original
  1. Bit 13 da transação original (MMDD)
  1. Bit 12 da transação original (HHMMSS)
  1. Bit 32 da Transação Original
  1. Preenchido com zeros (0000000000000000)

**Compra Internacional:**
```
051920/04/2021 11:21:32:6870|10.19.21.167|116|0100|Conductor||8|[*]002|2307441003573773|003|003000|004|000000000900|005|000000000161|006|000000000900|007|0420142126|009|71788889|010|61000000|011|023291|012|092126|013|0420|014|2603|015|0420|016|0419|018|5311|022|810|032|999698|037|080000100027|042|R-5411-BRA     |043|GROCERY STORES/SUPERMA RIO           BRA|048|00;T;14;C;42;0103210;56;AIQ5EZAQV445AQF144AQS007;75;01031000202R003032000402R10502R2;71;18C |049|840|050|840|051|840|057|010|061|0000000006000076|063|MCSX2RYEN|
```

**Estorno Internacional:**
```
036118/01/2021 12:46:33:8838|10.19.21.167|116|0400|Conductor||8|[*]002|2307441003573773|003|003000|004|000000000900|005|000000000161|006|000000000900|007|0420142127|009|71788889|010|61000000|011|023292|012|092126|013|0420|014|2603|015|0420|016|0419|018|5311|022|810|032|999698|037|080000100027|039|00|042|R-5411-BRA     |043|GROCERY STORES/SUPERMA RIO           BRA|048|00;R;63;MRWH2ZAOR0118  |049|840|051|840|057|010|060|409|063|MRWH21KOR|090|010002329104200921269996980000000000000000|121|000001|
```


**Transações INTERNACIONAIS - Desfazimento:**

_**É necessário mudar**:_
- Bit 11: Desfazimento = da compra
- Bit 38: de acordo com o código de autorização da transação original
- Bit 90 é composto por: 
  1. MTI da transação Original: 0100, 0120, 0200 ou 0400
  1. Bit 11 da Transação Original
  1. Bit 12 da transação original (HHMMSS)
  1. Bit 13 da transação original (MMDD)
  1. Bit 32 da Transação Original
  1. Preenchido com zeros (0000000000000000)

**Compra Internacional:** 
```
070830/04/2021 13:59:08:7218|10.19.21.167|116|0100|Conductor||8|[*]002|2307441003573773|003|000000|004|000000001500|005|000000001500|006|000000001500|007|0430135905|009|61000000|010|61000000|011|023294|012|135905|013|0430|014|2603|015|0430|016|0430|018|4722|022|072|023|000|032|999901|037|085110100021|041|MTF TEST|042|ABC123TESTMTF19|043|Misc Food Store        Vegas         BEL|048|00;R;14;C|049|840|050|840|051|840|057|010|061|00000000003000561111111111|063|MCC01116S|
```

**Desfazimento Internacional:**
```
055130/04/2021 13:59:23:7055|10.19.21.167|116|0420|Conductor||8|[*]002|2307441003573773|003|000000|004|000000001500|005|000000001500|006|000000001500|007|0430135905|009|61000000|010|61000000|011|023294|012|135905|013|0430|014|2603|015|0430|016|0430|018|4722|022|072|023|000|032|999901|037|085110100021|038|688923|039|17|041|MTF TEST|042|ABC123TESTMTF19|043|Misc Food Store        Vegas         BEL|048|00;R;20;P;63;MCC01116S0430  |049|840|050|840|051|840|057|010|061|00000000003000561111111111|063|MCC01116T|090|010002329413590504309999010000000000000000|
```
<br>
<br>
<br>

**PortoSeguro - Mensageria Visa**

**Transações NACIONAIS e INTERNACIONAIS - Reversão:**

_**É necessário mudar**:_
- Bit 11: Reversão = da compra
- Bit 38: de acordo com o código de autorização da transação original
- Bit 90 é composto por: 
  1. MTI da transação Original: 0100, 0120, 0200 ou 0400
  1. Bit 11 da Transação Original
  1. Bit 7 da transação original (HORA E DATA)
  1. Bit 32 da Transação Original
  1. Bit 33 da Transação Original, se não tiver, preencher com zeros

Exemplo do Bit 90: 0100 005635 0517190021 00000476113 00000000000

**Compra Nacional:**
```
05240755075217/05/2021 13:06:44:9820|10.19.21.167|276|0100|Conductor||8|[*]002|4195230006409734|003|000000|004|000000005000|006|000000000954|007|0517190021|010|71908000|011|482988|014|2608|018|6011|019|076|022|0120|023|000|025|00|032|476113|037|113719005635|041|ATM01   |042|CARD ACCEPTOR  |043|ACQUIRER NAME            CITY NAME    BR|044|001; ;002; ;003; ;004; ;005;2|049|986|051|840|053|2001010100000000|057|009|060|001;2;002;5;003;0;004;0;005;00;006;1;007;0|062|001;C5;002;0301137579984329;021;095A;022;02C200|063|8000000002
```

**Reversão Nacional:**
```
07320728072517/05/2021 13:06:48:5117|10.19.21.167|276|0400|Conductor||8|[*]002|4195230006409734|003|000000|004|000000005000|006|000000000954|007|0517190025|010|71908000|011|482988|014|2608|018|6011|019|076|022|0120|025|00|032|476113|037|113719005635|038|146475|041|ATM01   |042|CARD ACCEPTOR  |043|ACQUIRER NAME            CITY NAME    BR|048|*FIELD 48 USAGE 2 DATA WITH MAXIMUM LENGTH 255 BYTES - 57 60 63 66 69 72 75 78 81 84 87 90 93 96 99 103 107 111 115 119 123 127 131 135 139 143 147 151 155 159 163 167 171 175 179 183 187 191 195 199 203 207 211 215 219 223 227 231 235 239 243 247 251 255|049|986|051|840|057|009|060|001;2;002;5|062|001;C5;002;0301137579984329|063|A0000000022501|090|010048298805171900210000047611300000000000
```


**Compra Internacional:**
```
0502049849617/05/2021 12:17:18:2633|10.19.21.167|276|0100|Conductor||8|[*]002|4195230006409734|003|000000|004|000000000610|006|000000000610|007|0517181055|010|61000000|011|482989|014|2608|018|5972|019|840|022|0120|025|08|032|400551|037|113718005612|041|TERMID01|042|CARD ACCEPTOR  |043|ACQUIRER NAME            CITY NAME    US|044|001; ;002; ;003; ;004; ;005; ;006;  ;007; ;008; ;009; ;010;M|049|840|051|840|057|009|060|001;0;002;0|062|002;0301137550314154;021;095A;022;02C200|063|8000000002|126|010;11 602
```

**Reversão Internacional:**
```
04650461045817/05/2021 12:17:21:5340|10.19.21.167|276|0400|Conductor||8|[*]002|4195230006409734|003|000000|004|000000000610|006|000000000610|007|0517181058|010|61000000|011|482989|014|2608|018|5972|019|840|022|0120|025|08|032|400551|037|113718005612|038|949296|041|TERMID01|042|CARD ACCEPTOR  |043|ACQUIRER NAME            CITY NAME    US|049|840|051|840|057|009|060|001;0;002;0|062|002;0301137550314154|063|A0000000022501|090|010048298905171810550000040055100000000000
```


